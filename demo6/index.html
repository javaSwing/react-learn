<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>React 之事件处理（Handling Events）</title>
  <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
</head>

<body>
  <div id="example"></div>
  <script type="text/babel">
    class Toggle extends React.Component {
      constructor(props) {
        super(props);
        this.state = {isToggle: true}
        // 绑定事件,要注意的是必须要bind(this)才能回调的时候正常，否则返回的是undifined
        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind
        // TODO:这一点目前还没有理解要通过redBook，目前先这样记住吧
        this.handleClick = this.handleClick.bind(this);
      }

      handleClick() {
        this.setState(prevState =>({
          isToggle: !prevState.isToggle
        }));
      }

      render() {
        return (
          <div>
            <button onClick={this.handleClick}>
              {this.state.isToggle? 'NO': 'OFF'}
            </button>
          </div>
        )
      }
    }

    ReactDOM.render(
      <Toggle/>,
      document.getElementById('example')
    )
  </script>
</body>

</html>